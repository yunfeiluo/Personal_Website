<!DOCTYPE html>
<html>
<head>
<title>Yunfei Luo's Personal Website</title>
<meta charset="utf-8">
<link rel="icon" type="image/x-icon" href="static/images/icon.png" />
<link rel="stylesheet" href="static/css/basic.css">
<script rel="stylesheet" src='static/js/front.js'></script>

<!-- React -->
<script src="build/react.development.js"></script>
<script src="build/react-dom.development.js"></script>
<script src="build/babel.min.js"></script>
</head>
<body>
    <header>
        <div class="nav">
            <ul>
                <li style="cursor:pointer">
                    <a href="index.html">Home</a></li>
                <li style="cursor:pointer" onclick = "scroll_down(' ')">
                    <a class="active">Blogs</a></li>
                <li style="cursor:pointer" onclick = "scroll_down('bcontact')">
                    <a>Contact</a></li>
                <!--<li style="cursor:pointer" onclick = "scroll_down('login')">
                    <a>Login</a></li>-->
            </ul>
        </div>
        <!--back to top button-->
        <div>
            <button id = "scroll_top" onmouseover = "opa_up('s')" onmouseout = "opa_down('s')" onclick = "scroll_top()">
                <img src="static/images/to-top.png">
            </button>
        </div>
    </header>

    <!-- section 0 -->
    <section class = "blogs">
        <div class = "article_container">
            <h2 id="article_title"></h2>

            <script type="text/javascript">
                let article = window.location.search.substring(9, );
                let path = article;
                if (article.substring(0, 9) != "articles/"){
                    path = "articles/" + article;
                }
                if (article.substring(article.length - 4, ) != ".pdf"){
                    path += ".pdf";
                }

                article = "";
                slash_count = 0
                for (var i = 0; i < path.length; i++){
                    if (slash_count >= 2){
                        if (path.substring(i, i+4) == ".pdf"){
                            break
                        }
                        else{
                            article += path.charAt(i);
                        }
                    }
                    if (path.charAt(i) == '/'){
                        slash_count += 1;
                    }
                }
                
                document.getElementById("article_title").innerHTML = article;
                document.title = article + "--" + "Yunfei Luo's Original Article";
            </script>

            <div id="list"></div>
            <script type="text/babel">
                class ShareArticle extends React.Component {
                    constructor(props){
                        super(props);
                    }

                    // rendor stuff
                    // load the document
                    display_document(){
                        const list = [];
                        //alert(article);
                        //append: ?article=reports/studentlife_spring2020_report
                        list.push(
                            <div id = {"display_doc"}>
                                <iframe id = {"article_frame"} src={"https://yunfeiluo.com/PDF.js/web/viewer.html?file=https://yunfeiluo.com/" + path}></iframe>
                                <p>
                                Yunfei Luo's Original Article. 
                                </p>
                            </div>
                        );
                        return (<div>{list}</div>);
                    }
                    
                    // rendor funcion
                    render () {
                        return this.display_document();
                    }
                }
    
                // Apply
                ReactDOM.render(
                    <ShareArticle></ShareArticle>,
                    document.getElementById('list')
                );
            </script>
        </div>
    </section>

    <!-- The end: footer -->
    <footer class="footer">
        <div class="container">
            <div class="top">
                <figure>
                    <h4>Contact Info.</h4>
                    <ul>
                        <li><p>E-mail: yunfeiluo@umass.edu</p></li>
                        <li><p>Phone: 413. 404. 2124</p></li>
                        <li><p>.</p></li>
                        <li><p>615 Main Street</p></li>
                        <li><p>Amherst, MA, United States</p></li>
                    </ul>
                </figure>
                <figure>
                    <h4>About Me</h4>
                    <ul>
                        <li><a href="https://www.linkedin.com/in/yunfei-luo-616ab7171/" target="_blank"><u>My LinkedIn Profile</u></a></li>
                        <li><a href="https://github.com/yunfeiluo" target="_blank"><u>My Github</u></a></li>
                    </ul>
                </figure>
                <div class="clearfix"></div>
            </div>
        </div>
    
        <div class="container">
            <div class="bottom">
                Powered by Amazon Web Services (AWS).
            </div>
        </div>
    </footer>
</body>
</html>